{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amankaranjit/Desktop/Assignment/frontend-assignment/Test-Repo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/amankaranjit/Desktop/Assignment/frontend-assignment/Test-Repo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/amankaranjit/Desktop/Assignment/frontend-assignment/Test-Repo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"bootstrap/dist/css/bootstrap.css\";import\"../assets/css/Product.css\";import{useDispatch}from\"react-redux\";import{addCart}from\"../redux/action\";import{Link,NavLink}from\"react-router-dom\";import ErrorPage from\"./ErrorPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Product=function Product(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(data),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var componentMounted=true;var dispatch=useDispatch();var addProduct=function addProduct(product){dispatch(addCart(product));};useEffect(function(){var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://fakestoreapi.com/products/\");case 2:response=_context.sent;if(!componentMounted){_context.next=17;break;}_context.t0=setData;_context.next=7;return response.clone().json();case 7:_context.t1=_context.sent;(0,_context.t0)(_context.t1);_context.t2=setFilter;_context.next=12;return response.json();case 12:_context.t3=_context.sent;(0,_context.t2)(_context.t3);setIsLoading(false);_context.next=18;break;case 17:/*#__PURE__*/_jsx(NavLink,{to:ErrorPage});case 18:return _context.abrupt(\"return\",function(){componentMounted=false;});case 19:case\"end\":return _context.stop();}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();getProducts();},[]);var filterProduct=function filterProduct(cat){var updatedList=data.filter(function(item){return item.category===cat;});setFilter(updatedList);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{class:\"product__wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Our Products\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons text-center py-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark btn-sm m-2\",onClick:function onClick(){return setFilter(data);},children:\"All\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark btn-sm m-2\",onClick:function onClick(){return filterProduct(\"men's clothing\");},children:\"Men's Clothing\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark btn-sm m-2\",onClick:function onClick(){return filterProduct(\"women's clothing\");},children:\"Women's Clothing\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark btn-sm m-2\",onClick:function onClick(){return filterProduct(\"jewelery\");},children:\"Jewelery\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-dark btn-sm m-2\",onClick:function onClick(){return filterProduct(\"electronics\");},children:\"Electronics\"})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{class:\"loader\"}):/*#__PURE__*/_jsx(\"div\",{class:\"row p-0 m-0\",children:filter.map(function(product){return/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-12 col-md-3 col-lg-3\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"product_list\",children:[/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:\"title\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"product_description\",children:[/*#__PURE__*/_jsx(\"h4\",{children:product.title.substring(0,12)}),/*#__PURE__*/_jsxs(\"strong\",{children:[\"Rs.\",product.price]}),/*#__PURE__*/_jsx(\"p\",{children:product.description.substring(0,80)}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn_group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\"+product.id,className:\"btn btn-dark m-1\",children:\"Buy Now\"})}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary\",onClick:function onClick(){return addProduct(product);},children:[\" \",\"Add to Cart\"]})]})]})]})},product.id);})}),\";\"]})})});};export default Product;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","addCart","Link","NavLink","ErrorPage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Product","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","filter","setFilter","_useState5","_useState6","isLoading","setIsLoading","componentMounted","dispatch","addProduct","product","getProducts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","fetch","sent","t0","clone","json","t1","t2","t3","to","abrupt","stop","apply","arguments","filterProduct","cat","updatedList","item","category","children","class","className","onClick","map","src","image","alt","title","substring","price","description","id"],"sources":["/Users/amankaranjit/Desktop/Assignment/frontend-assignment/Test-Repo/src/components/Product.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"../assets/css/Product.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addCart } from \"../redux/action\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport ErrorPage from \"./ErrorPage\";\r\nconst Product = () => {\r\n  const [data, setData] = useState([]);\r\n  const [filter, setFilter] = useState(data);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  let componentMounted = true;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const addProduct = (product) => {\r\n    dispatch(addCart(product))\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getProducts = async () => {\r\n      const response = await fetch(\"https://fakestoreapi.com/products/\");\r\n      if (componentMounted) {\r\n        setData(await response.clone().json());\r\n        setFilter(await response.json());\r\n        setIsLoading(false);\r\n      }else{\r\n        <NavLink to={ErrorPage} />\r\n      }\r\n\r\n      return () => {\r\n        componentMounted = false;\r\n      };\r\n    };\r\n\r\n    getProducts();\r\n  }, []);\r\n\r\n  const filterProduct = (cat) => {\r\n    const updatedList = data.filter((item) => item.category === cat);\r\n    setFilter(updatedList);\r\n  };\r\n  return (\r\n    <>\r\n      <div class=\"product__wrapper\">\r\n        <div class=\"container\">\r\n          <h2>Our Products</h2>\r\n          <div className=\"buttons text-center py-5\">\r\n            <button\r\n              className=\"btn btn-outline-dark btn-sm m-2\"\r\n              onClick={() => setFilter(data)}\r\n            >\r\n              All\r\n            </button>\r\n            <button\r\n              className=\"btn btn-outline-dark btn-sm m-2\"\r\n              onClick={() => filterProduct(\"men's clothing\")}\r\n            >\r\n              Men's Clothing\r\n            </button>\r\n            <button\r\n              className=\"btn btn-outline-dark btn-sm m-2\"\r\n              onClick={() => filterProduct(\"women's clothing\")}\r\n            >\r\n              Women's Clothing\r\n            </button>\r\n            <button\r\n              className=\"btn btn-outline-dark btn-sm m-2\"\r\n              onClick={() => filterProduct(\"jewelery\")}\r\n            >\r\n              Jewelery\r\n            </button>\r\n            <button\r\n              className=\"btn btn-outline-dark btn-sm m-2\"\r\n              onClick={() => filterProduct(\"electronics\")}\r\n            >\r\n              Electronics\r\n            </button>\r\n          </div>\r\n          {isLoading ? (\r\n            <div class=\"loader\"></div> ): \r\n          <div class=\"row p-0 m-0\">\r\n            {filter.map((product) => {\r\n              return (\r\n                <div key={product.id} class=\"col-sm-12 col-md-3 col-lg-3\">\r\n                  <div class=\"product_list\">\r\n                    <figure>\r\n                      <img src={product.image} alt=\"title\" />\r\n                    </figure>\r\n                    <div class=\"product_description\">\r\n                      <h4>{product.title.substring(0, 12)}</h4>\r\n                      <strong>Rs.{product.price}</strong>\r\n                      <p>{product.description.substring(0, 80)}</p>\r\n                      <div className=\"btn_group\">\r\n                        <button className=\"btn btn-dark\">\r\n                          <Link\r\n                            to={\"/product/\" + product.id}\r\n                            className=\"btn btn-dark m-1\"\r\n                          >\r\n                            Buy Now\r\n                          </Link>\r\n                        </button>\r\n                        <button\r\n                          className=\"btn btn-secondary\"\r\n                          onClick={() => addProduct(product)}\r\n                        >\r\n                          {\" \"}\r\n                          Add to Cart\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          };\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}